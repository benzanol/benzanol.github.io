(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();function G(r,t){const e=document.createElement("span");e.style.position="absolute",e.style.visibility="hidden",e.style.fontFamily=r,e.style.fontSize=`${t}px`,e.textContent=".".repeat(100),document.body.appendChild(e);const s=e.getBoundingClientRect(),n=(s.right-s.left)/100,o=s.bottom-s.top;return e.parentElement?.removeChild(e),[n,o]}function ht(r,t,e,s,n){const o=r*e+1,i=t*s+1,c=document.createElement("div");return c.style.width=o+"px",c.style.height=i+"px",c.style.backgroundImage=`
        linear-gradient(to right, ${n} 1px, transparent 1px),
        linear-gradient(to bottom, ${n} 1px, transparent 1px)
    `,c.style.backgroundSize=`${e}px ${s}px`,c}function pt(){const r=document.createElement("div");r.style.visibility="hidden",r.style.overflow="scroll",r.style.msOverflowStyle="scrollbar",r.style.width="100px",r.style.height="100px",document.body.appendChild(r);const t=document.createElement("div");t.style.width="100%",r.appendChild(t);const e=r.offsetWidth-t.offsetWidth;return r.parentNode?.removeChild(r),e}function ut(r,t,e){const s=r.getBoundingClientRect(),n=document.createTreeWalker(r,NodeFilter.SHOW_TEXT,null),o=[];let i;for(;i=n.nextNode();)if(i.textContent&&i.parentElement)for(const c of i.parentElement.getClientRects()){const a=Math.round((c.left-s.left)/t),d=Math.round((c.top-s.top)/e),p=Math.round(c.width/t);o.push({line:d,col:a,width:p})}return o}function mt(r,t,e){const s=ut(r,t,e),n=[];for(const o of s)for(let i=0;i<o.width;i++)n.push([o.line,o.col+i]);return n.sort(([o,i],[c,a])=>o*1e6+i-(c*1e6+a)),n}const gt="¬†";class S{constructor(t){this.props=t}primMakeChildren(...t){for(const e of t)e.primParent=this}primParent=null;primParents(){if(this.primParent==null)return[this];const t=this.primParent.primParents();return t.unshift(this),t}primHandleKey(t,e,s){return!1}focused=!1;primIsFocused(){return this.focused}primOnChangeFocus(t){}primLastWhere=null;primLastCtx=null;rerender(t){this.primLastWhere&&this.primLastCtx&&this.renderSized(this.primLastWhere,{...this.primLastCtx,source:t})}primFocusMyself(t){if(this!==t.props.focused){if(t.props.focused){t.props.focused.focused=!1;for(const e of t.props.focused.primParents())e.primOnChangeFocus(!1)}t.props.focused=this,this.focused=!0;for(const e of t.props.focused.primParents())e.primOnChangeFocus(!0)}}renderSized(t,e){this.primLastWhere=t,this.primLastCtx=e,t.classList.add("term-sized"),t.style.width=`${e.width*e.props.charWidth}px`,isFinite(e.height)&&(t.style.height=`${e.height*e.props.charHeight}px`),this.props.classes&&t.classList.add(...this.props.classes),t.replaceChildren(),this.render(t,e),t.addEventListener("click",s=>{s.stopPropagation(),this.primFocusMyself(e)})}primRootRendered=!1;renderRoot(t,e){this.renderSized(t,e),!this.primRootRendered&&(this.primRootRendered=!0,document.addEventListener("keydown",s=>{let n=e.props.focused,o=!1;for(;n&&n.primLastWhere&&n.primLastCtx;)n.primHandleKey(s,n.primLastWhere,n.primLastCtx)&&(o=!0),n=n.primParent;o&&(s.stopPropagation(),s.preventDefault(),e.props.rerender())}))}}function ft(r,t){let e=D(r,t);window.addEventListener("resize",()=>{e=D(r,t,e)})}function D(r,t,e){document.body.style.backgroundColor=r.backgroundColor??"";const[s,n]=G(r.font,r.fontSize),o=(r.fontSize+n)/2,i=pt(),c=Math.ceil(i/s)||2,a=r.root.getClientRects()[0],d=Math.floor((a.width-i)/s),p=Math.floor(a.height/o);if(e&&d===e.columns&&p===e.lines)return e;const h=document.createElement("div");h.classList.add("term-wrapper"),h.style.fontFamily=r.font,h.style.fontSize=`${r.fontSize}px`,h.style.lineHeight=`${o}px`,r.root.replaceChildren(h);const m=document.createElement("div");if(h.replaceChildren(m),t.renderRoot(m,{width:d,height:p,props:{charWidth:s,charHeight:o,fontSize:r.fontSize,scrollbarCols:c,prompt:r.prompt,focused:null,backgroundColor:r.backgroundColor,rerender:()=>{}},source:e?"resize":void 0}),r.gridColor){const u=ht(d,p,s,o,r.gridColor);u.classList.add("grid"),h.appendChild(u)}return{lines:p,columns:d}}class yt extends S{constructor(t){super(t)}value=this.props.initial;getValue(){return this.value}setValue(t,e=!1){t!==this.value&&(this.value=t,e||this.props.onChange?.(t),this.rerender())}getSize(){return{width:2,height:1}}render(t,e){t.classList.add("term-checkbox");const s=t.appendChild(document.createElement("span"));s.style.width=`${2*e.props.charWidth}px`,s.style.height=`${e.props.fontSize}px`,s.classList.add(this.props.widget??"widget-checkbox"),this.value&&s.classList.add("active");const n=o=>{this.setValue(!this.value),o.stopImmediatePropagation()};if(s.onclick=n,this.props.label){const o=t.appendChild(document.createElement("span"));this.props.label.renderSized(o,{...e,width:e.width-2}),o.onclick=n}}}class g extends S{constructor(t){super(t),this.primMakeChildren(...t.rows.map(e=>e.child))}static children(t,e){const s=e.map(n=>({child:n}));return new g({...t,rows:s})}static rows(t,e){return new g({...t,rows:e})}static row(t,e){return{...t,child:e}}static identical(t,e,s){return new g({...t,rows:s.map(n=>g.row({...e},n))})}render(t,e){t.classList.add("term-rows");const s=this.props.rows.map(()=>document.createElement("div"));t.replaceChildren(...s),this.props.gap&&(t.style.gap=`${this.props.gap*e.props.charHeight}px`),this.props.rows.forEach((n,o)=>{n.grow&&s[o].classList.add("grow"),n.child.renderSized(s[o],{width:e.width,height:n.maxHeight??1/0,props:e.props})})}}class C extends S{constructor(t){super(t),this.primMakeChildren(...t.columns.map(e=>e.child))}static column(t,e){return{...t,child:e}}static columns(t,e){return new C({...t,columns:e})}static identical(t,e,s){return new C({...t,columns:s.map(n=>({...e,child:n}))})}static grow(t,e){return{...t,grow:!0,child:e}}static fixed(t,e){return{...t,child:e}}render(t,e){const s=this.props.columns.map(a=>a.minWidth??0).reduce((a,d)=>a+d,0),n=e.width-s-(this.props.columns.length-1)*(this.props.gap??0);if(n<0){const a=[];let d=e.width;for(const h of this.props.columns){if(h.grow||h.minWidth===void 0||h.minWidth>d)break;d-=h.minWidth,a.push(h)}const p=this.props.columns.map(h=>g.row({},h.child));if(a.length>=2){const h=C.columns({},a);p.splice(0,a.length,g.row({},h))}new g({rows:p,gap:this.props.gap}).renderSized(t,e);return}else t.classList.remove("term-rows");t.classList.add("term-columns");const o=this.props.columns.map(()=>document.createElement("div"));t.replaceChildren(...o);let i;const c=this.props.columns.filter(a=>a.grow);if(c.length===0)i=new Array(this.props.columns.length).fill(null);else{const a=c.map(p=>Math.max(p.minWidth??1,1)).reduce((p,h)=>p+h);i=this.props.columns.map(p=>p.grow?Math.floor(n*Math.max(p.minWidth??1,1)/a):null);let d=i.reduce((p,h)=>(p??0)+(h??0),0);for(let p=0;d<n;p++)i[p]!==null&&(i[p]++,d++)}this.props.gap&&(t.style.gap=`${this.props.gap*e.props.charWidth}px`),this.props.columns.forEach((a,d)=>{a.vGrow&&o[d].classList.add("vgrow"),a.child.renderSized(o[d],{width:(a.minWidth??0)+(i[d]??0),height:1/0,props:e.props})})}}class j extends S{constructor(t){super(t),this.primMakeChildren(...t.children)}notHidden=this.props.children;page=0;setHidden(t){this.page=0;const e=new Set(t);this.notHidden=this.props.children.filter((s,n)=>!e.has(n)),this.rerender()}static children(t,e){return new j({...t,children:e})}setPage(t){this.page=t,this.rerender()}render(t,e){const s=this.notHidden.length;if(t.classList.add("term-pages"),this.notHidden.length===0){const h=t.appendChild(document.createElement("div"));h.classList.add("message"),h.innerText="There's nothing here ):";return}const n=t.appendChild(document.createElement("div"));n.classList.add("pagination");const o=n.appendChild(document.createElement("a")),i=n.appendChild(document.createElement("span")),c=n.appendChild(document.createElement("a"));o.innerText="‚û§",o.classList.add("prev"),c.innerText="‚û§";const a=this.props.perPage.rows*this.props.perPage.columns;i.innerText=`  Page ${this.page+1}/${Math.ceil(s/a)}  `;for(const[h,m]of[[o,-1],[c,1]]){const u=this.page+m;u<0||u*a>=s?h.classList.add("disabled"):h.onclick=()=>this.setPage(u)}const d=t.appendChild(document.createElement("div"));d.style.display="flex",d.style.flexWrap="wrap",d.style.gap=`${e.props.charWidth}px`;const p=this.page*a;for(let h=p;h<Math.min(p+a,s);h++){const m=d.appendChild(document.createElement("div")),u={...e};this.props.perPage.columns>1&&(u.width=Math.floor(e.width/this.props.perPage.columns)-1),this.props.perPage.rowHeight!==void 0&&(u.height=this.props.perPage.rowHeight),this.notHidden[h].renderSized(m,u)}}}function X(r){if(r instanceof Array)return r.flatMap(s=>K(s));if(typeof r=="string"){const s=r.replaceAll(new RegExp(/(^| ) +/g),o=>gt.repeat(o.length)).split(`
`),n=[];for(const o of s)n.length>0&&n.push(document.createElement("br")),n.push(o);return n}const t=document.createElement(r.href?"a":"span");r.href&&(t.href=r.href),r.onclick&&(t.onclick=r.onclick),(r.onclick||r.href)&&(t.classList.add("term-span-link"),r.underline!==!1&&t.classList.add("underline"),t instanceof HTMLAnchorElement&&(console.log("blank"),t.target="_blank",t.rel="noopener noreferrer")),r.color&&(t.style.color=r.color),r.background&&(t.style.background=r.background),r.slant&&(t.style.fontStyle=r.slant),r.weight&&(t.style.fontWeight=`${r.weight}`),r.underline&&t.classList.add("underline"),r.classes&&t.classList.add(...r.classes);const e=X(r.content);return t.replaceChildren(...e),[t]}function K(r){const t=X(r);if(t.length===1&&t[0]instanceof HTMLElement)return t[0];const e=document.createElement("span");return e.replaceChildren(...t),e}function f(r,t){return{...r,content:t}}function Y(r,t){return{...t,content:r}}function z(r){return r instanceof Array?r.map(z).reduce((t,e)=>t+e,0):typeof r=="string"?r.length:z(r.content)}class l extends S{static content(t){return new l({content:t})}static props(t,e,s){return new l({...t,content:f(e,s)})}static span(t,e){return l.content({...t,content:e})}static lines(t,e,s){return s.map(n=>new l({...t,content:f(e,n)}))}static empty(){return new l({content:[]})}getSize(){return{width:z(this.props.content),height:1}}render(t,e){const s=K(this.props.content);if(s.classList.add("term-span"),s.classList.add(this.props.wrap===!1?"nowrap":"wrap"),this.props.center){const n=Math.floor((e.width-z(this.props.content))/2);s.style.paddingLeft=`${e.props.charWidth*n}px`}else this.props.right&&(t.style.display="flex",t.style.justifyContent="end");t.replaceChildren(s)}}function bt(r,t,e,s){const n=j.children({perPage:t},r),o=e.map(a=>a.options.map((d,p)=>p===0));function i(){n.setHidden(r.map((a,d)=>d).filter(a=>e.find(({options:d},p)=>d.every(({check:h},m)=>!(o[p][m]&&h(a))))))}const c=e.map(({name:a,options:d,behavior:p,color:h},m)=>{let u=a.length;const y=d.map((E,b)=>{const x=r.filter((v,H)=>E.check(H)).length,k=l.content([h?f({color:h},E.name):E.name,f({color:"gray"},` (${x})`)]);return u=Math.max(u,k.getSize().width+3),new yt({label:k,widget:p==="radio"?"widget-radio":void 0,initial:o[m][b],onChange:v=>{o[m][b]=v,v&&p==="radio"?y.forEach((H,L)=>{L!==b&&(H.setValue(!1,!0),o[m][L]=!1)}):!v&&p==="radio"?y[b].setValue(!0,!0):p==="all"&&b===0?y.forEach((H,L)=>{L!==0&&(H.setValue(!1,!0),o[m][L]=!1)}):p==="all"&&b>0&&(y[0].setValue(!1,!0),o[m][0]=!1),i()}})});return g.row({},g.identical({},{},[l.span({color:h},a),...y]))});return C.columns({},[C.column({minWidth:20},g.rows({gap:1},[g.row({},l.props({center:!0},{weight:"bold"},s?.filtersTitle)),...c])),C.column({grow:!0,minWidth:30},s?.title?g.identical({},{},[s?.title,n]):n)])}function P(r,t){const e={thin:"‚îÄ",thick:"‚îÅ",double:"‚ïê"},s={thin:"‚îÇ",thick:"‚îÉ",double:"‚ïë"},n={thin:{thin:"‚îå",thick:"‚îç",double:"‚ïí"},thick:{thin:"‚îé",thick:"‚îè",double:"‚ïí"},double:{thin:"‚ïì",thick:"‚ïì",double:"‚ïî"}},o={thin:{thin:"‚îê",thick:"‚îë",double:"‚ïï"},thick:{thin:"‚îí",thick:"‚îì",double:"‚ïï"},double:{thin:"‚ïñ",thick:"‚ïñ",double:"‚ïó"}},i={thin:{thin:"‚îî",thick:"‚îï",double:"‚ïò"},thick:{thin:"‚îñ",thick:"‚îó",double:"‚ïò"},double:{thin:"‚ïô",thick:"‚ïô",double:"‚ïö"}},c={thin:{thin:"‚îò",thick:"‚îô",double:"‚ïõ"},thick:{thin:"‚îö",thick:"‚îõ",double:"‚ïõ"},double:{thin:"‚ïú",thick:"‚ïú",double:"‚ïù"}};switch(r){case"h":return e[t.top];case"v":return s[t.left];case"tl":return n[t.left]?.[t.top]??"‚îå";case"tr":return o[t.right]?.[t.top]??"‚îê";case"bl":return i[t.left]?.[t.bottom]??"‚îî";case"br":return c[t.right]?.[t.bottom]??"‚îò";default:return" "}}class T extends S{constructor(t){super(t),this.primMakeChildren(t.child)}static box(t,e){return new T({...t,child:e})}static sides(t,e,s,n,o,i){const c={top:t,bottom:e,left:s,right:n};return new T({...o,child:i,style:c})}static hv(t,e,s,n){return T.sides(t,t,e,e,s,n)}static same(t,e,s){return T.sides(t,t,t,t,e,s)}render(t,e){t.classList.add("term-box");const s=t.appendChild(document.createElement("div")),n=t.appendChild(document.createElement("div")),o=t.appendChild(document.createElement("div"));n.classList.add("middle");const i=n.appendChild(document.createElement("div")),c=n.appendChild(document.createElement("div")),a=n.appendChild(document.createElement("div")),d=Math.min(this.props.maxWidth??1/0,e.width),p=Math.min(this.props.maxHeight??1/0,e.height),h=(this.props.vPad??0)*e.props.charHeight,m=(this.props.hPad??0)*e.props.charWidth;c.style.padding=`${h}px ${m}px`,c.classList.add(...this.props.childClasses??[]),this.props.child.renderSized(c,{...e,width:d-2-2*(this.props.hPad??0),height:p-2-2*(this.props.vPad??0)});for(const b of this.props.borderClasses??[])s.classList.add(b),o.classList.add(b),i.classList.add(b),a.classList.add(b);const u=this.props.style,y=this.props.title;function E(){const b=c.getBoundingClientRect(),x=Math.round(b.width/e.props.charWidth),k=Math.round(b.height/e.props.charHeight);let v=P("tl",u)+P("h",u).repeat(x)+P("tr",u);if(y&&x>4){const L=` ${y.substring(0,Math.min(x-4,y.length))} `;v=v.substring(0,2)+L+v.substring(2+L.length)}s.innerText=v,o.innerText=P("bl",u)+P("h",u).repeat(x)+P("br",u),i.innerText=(P("v",u)+`
`).repeat(k),a.innerText=(P("v",u)+`
`).repeat(k)}E(),c.addEventListener("resize",E)}}const Z=8;function wt(r,t){const e=(n,o)=>n?[" ",f({href:n,classes:["gradient-child"],weight:"bold"},`‚Ä∫‚Ä∫‚Ä∫ ${o} ‚Äπ‚Äπ‚Äπ`)," "]:[];return T.hv("thin","double",{classes:["gradient-root","gradient--bluegreenlight"],borderClasses:["gradient-child"],hPad:1},g.rows({},[g.row({maxHeight:Z-1},C.columns({gap:2},[C.column({grow:!0,minWidth:6},l.props({},{},[Y(t.name,{color:"white",weight:"bold",onclick:()=>r.sendCommand(`cd ~/portfolio/${t.name}`)}),`
`,t.description])),C.column({minWidth:15},g.identical({},{},[...t.categories.map(n=>{const o=R[n];return l.props({},{classes:["gradient-text",`gradient--${o.gradient}`]},"¬ª "+n)}),...t.languages.map(n=>l.props({},{color:_},Q[n].icon+" "+n)),...t.technologies.map(n=>l.props({},{color:et},tt[n].icon+" "+n))]))])),g.row({},l.props({center:!0},{},[e(t.githubHref,"GITHUB"),e(t.previewHref,"PREVIEW")]))]))}function Ct(r){return bt(B.map(t=>wt(r,t)),{columns:2,rows:3,rowHeight:Z+2},[{name:"Topics",behavior:"all",options:[{name:"All",check:()=>!0},...Object.keys(R).map(t=>({name:f({classes:["gradient-text",`gradient--${R[t].gradient}`]},t),check:e=>B[e].categories.includes(t)}))]},{name:"Languages",behavior:"all",options:[{name:"All",check:()=>!0},...Object.keys(Q).map(t=>({name:t,check:e=>B[e].languages.includes(t)}))],color:_},{name:"Technologies",behavior:"all",options:[{name:"All",check:()=>!0},...Object.keys(tt).map(t=>({name:t,check:e=>B[e].technologies.includes(t)}))],color:et}],{title:l.props({center:!0},{weight:"bold"},`PROJECTS

`),filtersTitle:`

FILTERS`})}const R={WebApps:{description:"I started out doing web design for personal projects with simple html/css/js applications, but I have now built a React app for a hackathon-winning project, deployed a NextJS application for a startup to real clients,, and built an interface for an educational tool deployed to hundreds of students.",color:"#43cea2",gradient:"bluegreen"},"Math/Physics":{description:"I have always been passionate about Math and Physics.",color:"#fc6a8c",gradient:"redpurple"},DevTools:{description:"I love working on tools that make my (and other developers) lives easier.",color:"goldenrod",gradient:"sunset"}},Q={Typescript:{icon:"Û∞õ¶"},Scala:{icon:"Óú∑"},Rust:{icon:"Ôå£"},Java:{icon:"Óú∏"}},_="#E1BBF2",tt={VanillaHTML:{icon:"Óú∂"},ReactJS:{icon:"Óû∫"},Svelte:{icon:"Óöó"},Tailwind:{icon:"Û±èø"}},et="lightblue",B=[{name:"BrainF*ck IDE",description:"The most complete environment for writing programs in the BrainF*ck esoteric programming language.",categories:["DevTools","WebApps"],technologies:["Svelte"],languages:["Typescript"],previewHref:"tbd",githubHref:"tbd"},{name:"Scala CAS",description:"A rudimentary computer algebra system built from scratch in Scala capable of computing symbolic zeros, integrals, and derivatives.",categories:["Math/Physics"],technologies:[],languages:["Scala"],githubHref:"tbd"},{name:"Appolonian Gasket Simulation",description:"The appolonian gasket was discovered in 1706 by German mathematician Gottfried Wilhelm Leibniz. This simulation enables visually navigating the space of all possible Appolonian Gaskets.",categories:["Math/Physics"],technologies:[],languages:["Typescript"],previewHref:"tbd",githubHref:"tbd"},{name:"TermUI",description:"A set of tools for building fun web-interfaces that look like terminal applications.",categories:["WebApps"],technologies:[],languages:["Typescript"],previewHref:"tbd",githubHref:"tbd"},{name:"High-accuracy elastic collision simulation",description:f({},["Originally inspired by ",f({href:"https://www.youtube.com/watch?v=6dTyOl1fmDo&vl=en"},"this video")," by 3Blue1Brown, I decided to write a simulation of elastic collisions between rigid bodies."," It "]),categories:["Math/Physics"],technologies:[],languages:["Java"],previewHref:"tbd",githubHref:"tbd"}];function vt(){return{[w]:"dir",[N]:(r,t)=>Ct(t),...Object.fromEntries(B.map(r=>[r.name.replaceAll(" ","_"),{[w]:"file",content:JSON.stringify(r,void 0,2)}]))}}class F extends S{constructor(t){super(t),this.primMakeChildren(...t.items)}static items(t,e){return new F({...t,items:e})}static strings(t,e){const s=e.map(n=>new l({wrap:!1,content:n}));return new F({...t,items:s})}render(t,e){t.classList.add("term-grid");const s=this.props.items,n=s.map(a=>a.getSize().width),o=this.props.hGap??2;let i=[],c=1;for(;c<n.length;c++){c>Math.ceil(n.length/2)&&(c=n.length),i=[];let a=0;for(let d=0;d<Math.ceil(n.length/c);d++){const p=Math.min((d+1)*c,n.length),h=Math.max(...n.slice(d*c,p));i.push(h),a+=(d>0?o:0)+h}if(a<e.width)break}for(let a=0;a*c<s.length;a++){const d=t.appendChild(document.createElement("div"));a>0&&(d.style.marginLeft=`${e.props.charWidth*o}px`);for(let p=a*c;p<Math.min(s.length,(a+1)*c);p++){const h=d.appendChild(document.createElement("div"));s[p].renderSized(h,{...e,width:i[a],height:1})}}}}let A=!1;async function Et(){try{const r=await navigator.clipboard.read();for(const t of r)if(t.types.includes("text/plain"))return await(await t.getType("text/plain")).text();return null}catch{return null}}function nt(r){const t=window.getComputedStyle(r).backgroundColor;return t==="transparent"||t==="rgba(0, 0, 0, 0)"?r.parentElement?nt(r.parentElement):"rgba(0,0,0,0)":t}function xt(){A=!A,O()}function O(){for(const r of document.getElementsByClassName("term-cursor")){if(!(r instanceof HTMLElement))continue;const t=r;(t.cursorFg===void 0||t.cursorBg===void 0)&&(t.cursorFg=getComputedStyle(r).color,t.cursorBg=nt(r)),t.style.color=A?t.cursorBg:t.cursorFg,t.style.backgroundColor=A?t.cursorFg:"unset"}}function kt(){setInterval(xt,700)}class Lt extends S{content=this.props.initial;cursor=this.props.initial.length;getContent(){return this.content}setContent(t,e){this.content=t,this.cursor=t.length,typeof e=="number"&&(this.cursor=Math.max(0,Math.min(e,t.length)))}getCursor(){return this.cursor}animatedRerender(){document.startViewTransition?document.startViewTransition(()=>this.rerender()):this.rerender()}primHandleKey(t){const e=!t.ctrlKey&&!t.altKey,s=e&&!t.shiftKey,n=!t.altKey&&t.ctrlKey&&t.shiftKey,o=!t.altKey&&t.ctrlKey&&!t.shiftKey,i=t.key;if((o||n)&&i==="v")Et().then(c=>{c!==null&&(this.setContent(c),this.animatedRerender())});else if(s&&i==="Backspace"){if(this.cursor===0)return!0;const c=this.content.substring(0,this.cursor-1),a=this.content.substring(this.cursor);this.content=c+a,this.cursor-=1}else if(s&&i==="Delete"){if(this.cursor>=this.content.length)return!0;const c=this.content.substring(0,this.cursor),a=this.content.substring(this.cursor+1);this.content=c+a}else if(s&&i==="ArrowLeft"){if(this.cursor===0)return!0;this.cursor--}else if(s&&i==="ArrowRight"){if(this.cursor>=this.content.length)return!0;this.cursor++}else if(e&&i.length===1){const c=this.content.substring(0,this.cursor),a=this.content.substring(this.cursor);this.content=c+i+a,this.cursor+=1}else return!1;return A=!0,O(),this.animatedRerender(),!0}changingFocus=!1;primOnChangeFocus(){try{this.changingFocus=!0,this.rerender()}finally{this.changingFocus=!1}}render(t,e){const s=this.cursor===this.content.length,n=f(this.props.style??{},[...this.props.prefix?[this.props.prefix]:[],...this.cursor===0?[]:[this.content.substring(0,this.cursor)],f({classes:this.primIsFocused()?["term-cursor"]:[],background:this.primIsFocused()?"unset":"white"},this.content[this.cursor]??" "),...s?[]:[this.content.substring(this.cursor+1)+" "]]),o=K(n);o.classList.add("wrap"),o.classList.add("term-span"),t.replaceChildren(o),O(),!this.changingFocus&&this.props.focus&&(this.primFocusMyself(e),o.scrollIntoView()),this.changingFocus&&this.primIsFocused()&&o.scrollIntoView()}}const w=Symbol("type"),N=Symbol("type");class Mt extends S{constructor(t){super(t);const e={home:["home","adam"],pwd:["home","adam"],vars:{get HOME(){return"/"+e.home.join("/")},get PWD(){return"/"+e.pwd.join("/")}}};this.env=e,this.fs={[w]:"dir",home:{[w]:"dir",adam:{[w]:"dir",projects:vt(),apple:{[w]:"dir"},banana:{[w]:"dir"},orange:{[w]:"dir"},pineapple:{[w]:"dir"},kiwi:{[w]:"dir"}}}},this.interactions=[],this.promptBox=new Lt({focus:!0,initial:"",prefix:this.props.prompt(this.env)}),this.primMakeChildren(this.promptBox)}env;fs;interactions;promptBox;completing=null;animating=!1;primHandleKey(t,e,s){if(this.animating)return!1;const n=!t.altKey&&!t.ctrlKey&&!t.shiftKey,o=!t.altKey&&t.ctrlKey&&!t.shiftKey,i=t.key,c=this.childCtx(s),a=e.querySelector(":scope > .interactions"),d=e.querySelector(":scope > .completions"),p=e.querySelector(":scope > .prompt");if(!a||!d||!(p instanceof HTMLElement))return console.error("Element is broken"),!1;if(this.completing&&!(n&&i==="Tab")&&(d.replaceChildren(),this.completing=null),n&&i==="Tab"){if(!this.props.completer)return!0;const h=this.promptBox.getContent(),m=this.promptBox.getCursor();this.completing||(this.completing={...this.props.completer(h,m,this.commandApi()),current:0},this.completing.completions=this.completing.completions.filter(k=>k),this.completing.completions.sort(),this.completing.completions.unshift(""));const u=this.completing,y=u.completions[u.current];u.current=(u.current+1)%u.completions.length;const E=u.completions[u.current],x=h.substring(0,m-y.length)+E+h.substring(m);this.promptBox.setContent(x,m-y.length+E.length),this.renderCompletions(d,c),this.promptBox.renderSized(p,c)}else if(n&&i==="Enter")this.submitCurrentCommand(e,s);else if(o&&i==="c"){const h={prompt:this.promptBox.props.prefix??"",command:this.promptBox.getContent()+"^C",output:l.empty()};this.interactions.push(h),this.renderInteraction(a,c,h),this.promptBox.setContent(""),this.promptBox.props.prefix=this.props.prompt(this.env),this.promptBox.rerender()}else if(n&&(i==="ArrowUp"||i==="ArrowDown")){const h=this.historyIndex+(i==="ArrowUp"?-1:1);if(h<0||h>this.history.length)return!0;this.historyIndex=h,this.promptBox.setContent(this.history[this.historyIndex]??""),this.promptBox.rerender()}else return!1;return!0}commandApi(){return{clear:()=>this.interactions=[],env:this.env,fs:this.fs,sendCommand:this.sendCommand.bind(this),typeCommand:t=>{this.promptBox.setContent(t),this.promptBox.rerender()}}}animateTypeCommand(t,e=500,s=200){if(!this.animating&&!(!this.primLastWhere||!this.primLastCtx)){this.animating=!0;for(let n=1;n<=t.length;n++)setTimeout(()=>{this.promptBox.setContent(t.substring(0,n)),this.promptBox.rerender()},e+n*s);setTimeout(()=>{this.animating=!1,this.sendCommand(t)},e+(t.length+1)*s)}}sendCommand(t){this.animating||!this.primLastWhere||!this.primLastCtx||(this.promptBox.setContent(t),this.submitCurrentCommand(this.primLastWhere,this.primLastCtx))}submitCurrentCommand(t,e){const s=this.childCtx(e),n=t.querySelector(":scope > .interactions"),o=t.querySelector(":scope > .completions"),i=t.querySelector(":scope > .prompt");if(!n||!o||!(i instanceof HTMLElement))return console.error("Element is broken"),!1;const c=this.promptBox.props.prefix??"",a=this.promptBox.getContent(),d=this.props.executor(a,this.commandApi());if(this.promptBox.setContent(""),this.promptBox.props.prefix=this.props.prompt(this.env),this.promptBox.renderSized(i,s),this.addHistoryItem(a),this.historyIndex=this.history.length,!d)this.interactions=[],n.replaceChildren();else{const p={prompt:c,command:a,output:d};this.interactions.push(p);const h=this.renderInteraction(n,s,p),m=mt(h,e.props.charWidth,e.props.charHeight),u=h.style.height;h.style.height=`${e.props.charHeight}px`,i.hidden=!0;const y=n.appendChild(document.createElement("div"));y.classList.add("block"),y.style.height=`${e.props.charHeight}px`,y.style.backgroundColor=e.props.backgroundColor??"";const E=100/Math.sqrt(m.length+30),b=Math.max(1,m.length*E),x=performance.now(),k=v=>{v=Math.max(v,x+1);const H=(v-x)/b;if(this.primFocusMyself(e),H>=1)n.removeChild(y),t.classList.remove("animating"),i.hidden=!1,h.style.height=u,o.scrollIntoView(),this.animating=!1,this.promptBox.primFocusMyself(e);else{const L=Math.floor(H*m.length),[it,ct]=m[L],at=it+1;h.style.height=`${e.props.charHeight*at}px`,h.replaceChildren(...h.children);const lt=ct+1,dt=e.width-lt;y.style.width=`${e.props.charWidth*dt}px`,o.scrollIntoView(),requestAnimationFrame(k)}};t.classList.add("animating"),this.animating=!0,requestAnimationFrame(k)}}childCtx(t){return{...t,height:1/0,width:t.width-t.props.scrollbarCols}}renderInteraction(t,e,s){const n=t.appendChild(document.createElement("div"));l.content([s.prompt,s.command]).renderSized(n,e);const o=t.appendChild(document.createElement("div"));return s.output.renderSized(o,e),o}renderCompletions(t,e){if(!this.completing||!(t instanceof HTMLElement))return;const{completions:s,prefix:n,current:o}=this.completing;F.items({},s.flatMap((c,a)=>c.length===0?[]:[l.props({wrap:!1},a===o?{background:"white",color:"black"}:{},n+c)])).renderSized(t,e),t.scrollIntoView()}history=U();historyIndex=this.history.length;addHistoryItem(t){this.history[this.history.length-1]!==t&&this.history.push(t);const e=U();if(e[e.length-1]===t)return;e.push(t);const s=100,n=e.length<=s?e:e.slice(history.length-s);localStorage.setItem(st,JSON.stringify(n))}interactionsElem=document.createElement("div");render(t,e){const s=this.childCtx(e);if(t.classList.add("term-interface"),e.source==="resize"){t.appendChild(this.interactionsElem);const i=this.interactionsElem.lastChild,c=this.interactions[this.interactions.length-1];c&&i instanceof HTMLElement&&c.output.renderSized(i,s)}else{this.interactionsElem=t.appendChild(document.createElement("div")),this.interactionsElem.classList.add("interactions");for(const i of this.interactions)this.renderInteraction(this.interactionsElem,s,i)}const n=t.appendChild(document.createElement("div"));n.classList.add("prompt"),this.promptBox.renderSized(n,s);const o=t.appendChild(document.createElement("div"));o.classList.add("completions"),this.renderCompletions(o,s)}}const st="term-history";function U(){try{const r=JSON.parse(localStorage.getItem(st));return r instanceof Array&&r.every(t=>typeof t=="string")?r:[]}catch{return[]}}const q={a:[" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù"],b:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ï¶‚ïù","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ï¶‚ïù","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù "],c:[" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë  ‚ïö‚ïê‚ïù","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïó","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù "],d:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù "],e:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù","‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"],f:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù","‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ","‚ñà‚ñà‚ïë     ","‚ïö‚ïê‚ïù     "],g:[" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïë  ‚ïö‚ñà‚ñà‚ïó","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù "],h:["‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù"],i:["‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù"],j:["     ‚ñà‚ñà‚ïó","     ‚ñà‚ñà‚ïë","     ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù "],k:["‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïù","‚ñà‚ñà‚ñà‚ñà‚ñà‚ïê‚ïù ","‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù"],l:["‚ñà‚ñà‚ïó     ","‚ñà‚ñà‚ïë     ","‚ñà‚ñà‚ïë     ","‚ñà‚ñà‚ïë     ","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"],m:["‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù ‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù"],n:["‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïù"],o:[" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù "],p:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ","‚ñà‚ñà‚ïë     ","‚ïö‚ïê‚ïù     "],q:[" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ïê‚ñà‚ñà‚ïî‚ïê‚ïù ","   ‚ïö‚ïê‚ïù   "],r:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù","‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù"],s:[" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó "," ‚ïö‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù "],t:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù","   ‚ñà‚ñà‚ïë   ","   ‚ñà‚ñà‚ïë   ","   ‚ñà‚ñà‚ïë   ","   ‚ïö‚ïê‚ïù   "],u:["‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë","‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù "],v:["‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë","‚ïö‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ","  ‚ïö‚ñà‚ñà‚ïî‚ïù  ","   ‚ïö‚ïê‚ïù   "],w:["‚ñà‚ñà‚ïó       ‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë","‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïù"," ‚ñà‚ñà‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ñà‚ñà‚ïë "," ‚ïö‚ñà‚ñà‚ïî‚ïù ‚ïö‚ñà‚ñà‚ïî‚ïù ","  ‚ïö‚ïê‚ïù   ‚ïö‚ïê‚ïù  "],x:["‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó","‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ñà‚ñà‚ñà‚ïî‚ïù "," ‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ","‚ñà‚ñà‚ïî‚ïù‚ïö‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù"],y:["‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó","‚ïö‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïù"," ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ","  ‚ïö‚ñà‚ñà‚ïî‚ïù  ","   ‚ñà‚ñà‚ïë   ","   ‚ïö‚ïê‚ïù   "],z:["‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë","  ‚ñà‚ñà‚ñà‚ïî‚ïê‚ïù","‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ","‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"],"!":["‚ñà‚ñà‚ïó","‚ñà‚ñà‚ïë","‚ñà‚ñà‚ïë","‚ïö‚ïê‚ïù","‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïù"]," ":["   ","   ","   ","   ","   ","   "],"-":["      ","      ","‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó","‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù","      ","      "]};function J(r){const t=Array.from(Array(6),()=>[]);for(const e of r.toLowerCase())e in q&&q[e].forEach((s,n)=>t[n].push(s));return t.map(e=>e.join(""))}function W(r,t,e,s){const n={flags:{},params:[]};for(let o=0;o<r.length;o++){const i=r[o];if(!(i in s)){n.params.push(i);continue}const c=[],a=s[i],d=o+1;for(o=d;o<d+a;o++){if(o>=r.length)throw new Error(`Not enough arguments for flag ${i}`);c.push(r[o])}n.flags[i]=c,o=d+a-1}if(e!==null&&n.params.length>e)throw new Error("Too many arguments");if(n.params.length<t)throw new Error("Not enough arguments");return n}function $(r,t){if(t==="~")return[...r.home];let e=t.startsWith("/")?[]:r.pwd;t.startsWith("~/")&&(t=t.substring(2),e=r.home);const s=[...e,...t.split("/")],n=[];for(const o of s)o===""||o==="."||(o===".."?n.pop():n.push(o));return n}function I(r,t,e=0){if(e===t.length)return r;const s=r[t[e]];return!s||s[w]!=="dir"?null:I(s,t,e+1)}function rt(r,t,e=0){if(e===t.length)return r;let s=r[t[e]];return s||(s={[w]:"dir"},r[t[e]]=s),s[w]!=="dir"?null:rt(s,t,e+1)}function M(r,t,e=!0){return Y("¬ª "+t,{onclick:e?()=>r.sendCommand(t):()=>r.typeCommand(`${t} `),classes:["gradient--command","cmd-underline"]})}const ot={clear:(r,t)=>(W(r,0,0,{}),t.clear(),null),pwd:(r,t)=>(W(r,0,0,{}),l.content("/"+t.env.pwd.join("/"))),mkdir:(r,t)=>{const{flags:e,params:s}=W(r,1,1,{"-v":0}),n=$(t.env,s[0]),i=(e["-v"]?rt:I)(t.fs,n.slice(0,n.length-1));if(!i)throw new Error(e["-v"]?"Not a directory":"Parent directory does not exist");const c=n[n.length-1];if(i[c])throw new Error("File already exists");return i[c]={[w]:"dir"},l.empty()},ls:(r,t)=>{const{params:e,flags:s}=W(r,0,1,{"-i":0}),n=e[0]?$(t.env,e[0]):t.env.pwd,o=I(t.fs,n);if(!o)throw new Error(`cannot access '/${n.join("/")}': No such file or directory`);const i=Object.keys(o).filter(d=>o[d][w]==="dir"),c=Object.keys(o).filter(d=>o[d][w]==="file");if("-i"in s&&o[N])return o[N](`ls ${r.join(" ")}`,t);const a=`/${t.env.pwd.join("/")}`;return F.items({},[...i.map(d=>l.props({wrap:!1},{onclick:()=>t.sendCommand(`cd ${a}/${d}`),underline:!1},d)),...c.map(d=>l.props({wrap:!1},{},d))])},cd:(r,t)=>{const{params:e}=W(r,0,1,{}),s=$(t.env,e[0]??"~");if(!I(t.fs,s))throw new Error(`not a directory: '/${s.join("/")}'`);return t.env.pwd=s,l.empty()},cat:(r,t)=>{const{params:e}=W(r,1,1,{}),s=$(t.env,e[0]),n=I(t.fs,s.slice(0,s.length-1));if(!n)throw new Error("No such file or directory");const o=n[s[s.length-1]];if(!o)throw new Error("No such file or directory");if(o[w]!=="file")throw new Error("Not a file");return l.content(o.content)},echo:(r,t)=>{const{params:e}=W(r,0,null,{});let s=e.join(" ").replaceAll(/\$([a-zA-Z0-9_]+)/g,(n,o)=>t.env.vars[o]??"");return l.content(s)},welcome:(r,t)=>{W(r,0,0,{});const e=g.identical({},{},[l.props({center:!0},{},["Hi üëã, I'm ",f({href:"linkedin.com/in/adamtillou"},"Adam!")]),l.props({center:!0},{},"I'm a Computer Science + Math double major at Rice University."),l.content(" "),C.columns({},[C.column({grow:!0},l.empty()),C.column({minWidth:90},T.hv("double","thin",{classes:["gradient-root","gradient--bluegreen"],borderClasses:["gradient-child"],childClasses:["gradient-end"],hPad:2,vPad:1},g.identical({},{},[l.content(["‚û§ Run ",M(t,"ls -i projects")," to show an interactive list of my projects"]),l.content(" "),l.content(["‚û§ Run ",M(t,"cat resume")," to see my resume"]),l.content(" "),l.content(["‚û§ Run ",M(t,"help")," to learn more about TermUi (that's what you're looking at)"])]))),C.column({grow:!0},l.empty())])]);return g.identical({},{},[g.identical({},{},[...l.lines({center:!0,wrap:!1},{classes:["gradient-text","gradient--bluegreen"]},J("hello!"))]),l.content(" "),e])},help:(r,t)=>{const{params:e}=W(r,0,1,{});if(e.length>0)throw new Error(`No help page found for ${e[0]}`);function s(o,i){return C.column({grow:!0,minWidth:8},T.hv("double","thin",{title:o,classes:["gradient-root","gradient--sunset"],borderClasses:["gradient-child"],childClasses:["gradient-end"],hPad:1,vPad:1},g.identical({},{},i)))}const n=()=>C.column({minWidth:1},l.empty());return g.identical({},{},[g.identical({},{},[...l.lines({center:!0,wrap:!1},{classes:["gradient-text","gradient--sunset"]},J("TermUi"))]),l.content(" "),l.props({center:!0},{},["Ever feel like every website is designed the exact same way? Me too."]),l.props({center:!0},{},["TermUI is a toolkit for building websites with a more ",f({slant:"italic"},"command-"),"ing personality."]),l.props({center:!0},{},["Want your own? Fork the ",f({href:"https://github.com/benzanol/termui"},"repo")," to get started."]),l.content(" "),C.columns({},[n(),s("Navigation",[l.content(["‚û§ Run ",M(t,"pwd")," to print the current directory"]),l.content(" "),l.content(["‚û§ Use ",M(t,"cd",!1)," to change the pwd"]),l.content(" "),l.content(["‚û§ Run ",M(t,"ls")," to list the files in a directory"]),l.content(" "),l.content(["‚û§ For certain directories, ",M(t,"ls -i")," will show the contents interactively"])]),n(),s("Keyboard Shortcuts",[l.content(["‚û§ Press ",f({classes:["gradient--command"]},"TAB")," with an empty prompt to auto-complete available commands"]),l.content(" "),l.content(["‚û§ Press ",f({classes:["gradient--command"]},"TAB")," after typing a command to auto-complete its arguments"]),l.content(" "),l.content(["‚û§ Press ",f({classes:["gradient--command"]},"Up/Down")," to cycle through recent commands"]),l.content(" "),l.content(["‚û§ Press ",f({classes:["gradient--command"]},"Ctrl+c")," to abort the current command"])]),n(),s("Miscellaneous",[l.content(["‚û§ Use ",M(t,"cat",!1)," to view a file's contents"]),l.content(" "),l.content(["‚û§ Use ",M(t,"clear")," to clean up the screen"]),l.content(" "),l.content(["‚û§ Use ",M(t,"echo")," to check the value of environmental variables"])]),n()])])}},St=(r,t)=>{const e=r.trim().split(/[ \t\n\r]+/),s=e[0].trim(),n=e.slice(1).map(i=>i.trim());if(!s)return l.empty();const o=ot[s];if(!o)return l.span({color:"red"},`${s}: command not found`);try{return o(n,t)}catch(i){const c=i instanceof Error?i.message:`${i}`;return l.span({color:"red"},`${s}: ${c}`)}finally{for(;!I(t.fs,t.env.pwd);)t.env.pwd=t.env.pwd.slice(0,t.env.pwd.length-1)}},Ht=(r,t,e)=>{r=r.trimStart();const n=r.substring(0,t).split(/[ \t\r\n]+/),o=n[n.length-1]??"";let i,c;if(n.length<=1||n[0]==="help")i=Object.keys(ot),c=o;else{const a=o.lastIndexOf("/");c=o.substring(a+1);const d=I(e.fs,$(e.env,o.substring(0,a+1)));if(d===null)return{prefix:c,completions:[]};c=o.substring(a+1),i=Object.keys(d)}return{prefix:c,completions:i.filter(a=>a.startsWith(c)).map(a=>a.substring(c.length))}};function Wt(r){let t=r.pwd;const e=r.home.every((o,i)=>o===r.pwd[i]);e&&(t=t.slice(r.home.length));let n="/"+t.map((o,i)=>i===t.length-1?o:o[0]??"").join("/");return e&&(t.length===0?n="~":n="~"+n),f({},[f({color:"#79a1c4"},`${n} `),f({color:"#d75f5f"},"‚ùØ"),f({color:"#ebcb8b"},"‚ùØ"),f({color:"#a3be8c"},"‚ùØ ")])}class V extends S{constructor(t){super(t),this.primMakeChildren(t.child)}static props(t,e){return new V({...t,child:e})}onResize(t,e,s){console.log("onresize");const n=t.scrollTop,o=t.scrollHeight,i=t.clientHeight;if(o<=i){s.style.height="0",s.style.marginTop="";return}const c=Math.round(e.height*(i/o)),a=Math.round(e.height*(n/o));console.log(i,o,c),s.style.height=`${e.props.charHeight*c}px`,s.style.marginTop=`${e.props.charHeight*a}px`}render(t,e){t.replaceChildren();const s=t.appendChild(document.createElement("div"));s.classList.add("scroll","hide-scrollbar");const n=t.appendChild(document.createElement("div"));n.classList.add("scrollbar","gradient-background");const o=this.props.width??2;n.style.width=`${e.props.charWidth*o}px`;const i=s.appendChild(document.createElement("div"));t.classList.contains("term-scrollbox")||s.addEventListener("scroll",()=>this.onResize(s,e,n)),t.classList.add("term-scrollbox"),this.props.child.renderSized(i,{...e,width:e.width-o,height:1/0}),this.onResize(s,e,n)}}kt();document.addEventListener("DOMContentLoaded",()=>{G("Iosevka",32),setTimeout(()=>Pt(),500)});function Pt(){const r=new Mt({executor:St,completer:Ht,prompt:Wt});ft({root:document.querySelector("#term-root"),font:"Iosevka",fontSize:22,backgroundColor:"#272a32",prompt:new l({content:">>> "})},V.props({},r)),r.animateTypeCommand("welcome",200,150),window.location.pathname.length>1}
